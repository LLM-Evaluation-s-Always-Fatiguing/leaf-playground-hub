{
    "name": "who_is_the_spy_cn",
    "version": "0.1.0",
    "metadata": {
        "scene_metadata": {
            "scene_definition": {
                "name": "谁是卧底",
                "description": "谁是卧底是一款游戏。游戏中有三种角色：平民，卧底和白板。每位玩家在游戏开始时都会被告知一个关键词，其中平民与卧底的关键词不同但相似，白板是一个空白关键词。玩家需要对自己的关键词进行描述，每轮描述结束后进行投票，获票最多的玩家将被淘汰。平民需要抓出每一位卧底和白板，卧底需要假装平民活到最后，白板的胜利条件是淘汰所有的卧底后依旧留在场上。",
                "env_vars": [
                    {
                        "name": "key_modality",
                        "description": "关键词的模态类型, 可选：文本、图片",
                        "env_var_cls": "KeyModality"
                    },
                    {
                        "name": "num_games",
                        "description": "游戏进行多少场",
                        "env_var_cls": "NumGames"
                    },
                    {
                        "name": "has_blank",
                        "description": "游戏中是否包含白板玩家",
                        "env_var_cls": "HasBlank"
                    }
                ],
                "roles": [
                    {
                        "name": "moderator",
                        "description": "主持游戏的角色",
                        "actions": [
                            {
                                "name": "registry_players",
                                "description": "注册玩家",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "players",
                                            "annotation": "typing.List[leaf_playground.data.profile.Profile]"
                                        }
                                    ],
                                    "return_annotation": "None",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "init_game",
                                "description": "初始化游戏",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorInitGameSummary'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "introduce_game_rule",
                                "description": "介绍游戏规则",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorSummary'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "announce_game_start",
                                "description": "宣布游戏开始",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorSummary'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "assign_keys",
                                "description": "给玩家分配关键词",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "player",
                                            "annotation": "<class 'leaf_playground.data.profile.Profile'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorKeyAssignment'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "ask_for_key_description",
                                "description": "询问描述",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorAskForDescription'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "valid_player_description",
                                "description": "验证描述格式",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "description",
                                            "annotation": "<class 'who_is_the_spy_cn.scene_definition.PlayerDescription'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorWarning'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "ask_for_role_prediction",
                                "description": "开始身份预测",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorAskForRolePrediction'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "summarize_players_prediction",
                                "description": "总结身份预测",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "predictions",
                                            "annotation": "typing.List[who_is_the_spy_cn.scene_definition.PlayerPrediction]"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorPredictionSummary'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "ask_for_vote",
                                "description": "进行投票",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "targets",
                                            "annotation": "typing.List[leaf_playground.data.profile.Profile]"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorAskForVote'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "summarize_player_votes",
                                "description": "总结投票结果",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "votes",
                                            "annotation": "typing.List[who_is_the_spy_cn.scene_definition.PlayerVote]"
                                        },
                                        {
                                            "name": "patience",
                                            "annotation": "<class 'int'>"
                                        },
                                        {
                                            "name": "focused_players",
                                            "annotation": "typing.Optional[typing.List[leaf_playground.data.profile.Profile]]"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorVoteSummary'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "check_if_game_over",
                                "description": "检查游戏是否结束",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorCheckGameOverSummary'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "reset_inner_status",
                                "description": "reset inner status",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'inspect._empty'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            }
                        ],
                        "num_agents_range": [
                            1,
                            1
                        ],
                        "is_static": true
                    },
                    {
                        "name": "player",
                        "description": "参与游戏的角色",
                        "actions": [
                            {
                                "name": "receive_key",
                                "description": "收到关键词",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "key_assignment",
                                            "annotation": "<class 'who_is_the_spy_cn.scene_definition.ModeratorKeyAssignment'>"
                                        }
                                    ],
                                    "return_annotation": "None",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "describe_key",
                                "description": "描述关键词",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "history",
                                            "annotation": "typing.List[typing.Annotated[typing.Union[who_is_the_spy_cn.scene_definition.ModeratorSummary, who_is_the_spy_cn.scene_definition.ModeratorInitGameSummary, who_is_the_spy_cn.scene_definition.ModeratorPredictionSummary, who_is_the_spy_cn.scene_definition.ModeratorVoteSummary, who_is_the_spy_cn.scene_definition.ModeratorCheckGameOverSummary, who_is_the_spy_cn.scene_definition.ModeratorKeyAssignment, who_is_the_spy_cn.scene_definition.ModeratorWarning, who_is_the_spy_cn.scene_definition.ModeratorAskForDescription, who_is_the_spy_cn.scene_definition.ModeratorAskForRolePrediction, who_is_the_spy_cn.scene_definition.ModeratorAskForVote, who_is_the_spy_cn.scene_definition.PlayerDescription, who_is_the_spy_cn.scene_definition.PlayerPrediction, who_is_the_spy_cn.scene_definition.PlayerVote], FieldInfo(annotation=NoneType, required=True, discriminator='msg_type')]]"
                                        },
                                        {
                                            "name": "receivers",
                                            "annotation": "typing.List[leaf_playground.data.profile.Profile]"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.PlayerDescription'>",
                                    "is_static_method": false
                                },
                                "metrics": [
                                    {
                                        "name": "伪装能力",
                                        "description": "玩家对于词汇描述的逻辑性",
                                        "record_value_dtype": "INT",
                                        "record_display_type": "FiveStarsRate",
                                        "expect_resp_msg_type": "PlayerDescription",
                                        "agg_method": {
                                            "fn": {
                                                "obj": "avg_fn",
                                                "module": "who_is_the_spy_cn.scene_definition",
                                                "source_file": null
                                            },
                                            "default_kwargs": null
                                        },
                                        "is_comparison": false
                                    }
                                ]
                            },
                            {
                                "name": "predict_role",
                                "description": "角色预测",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "history",
                                            "annotation": "typing.List[typing.Annotated[typing.Union[who_is_the_spy_cn.scene_definition.ModeratorSummary, who_is_the_spy_cn.scene_definition.ModeratorInitGameSummary, who_is_the_spy_cn.scene_definition.ModeratorPredictionSummary, who_is_the_spy_cn.scene_definition.ModeratorVoteSummary, who_is_the_spy_cn.scene_definition.ModeratorCheckGameOverSummary, who_is_the_spy_cn.scene_definition.ModeratorKeyAssignment, who_is_the_spy_cn.scene_definition.ModeratorWarning, who_is_the_spy_cn.scene_definition.ModeratorAskForDescription, who_is_the_spy_cn.scene_definition.ModeratorAskForRolePrediction, who_is_the_spy_cn.scene_definition.ModeratorAskForVote, who_is_the_spy_cn.scene_definition.PlayerDescription, who_is_the_spy_cn.scene_definition.PlayerPrediction, who_is_the_spy_cn.scene_definition.PlayerVote], FieldInfo(annotation=NoneType, required=True, discriminator='msg_type')]]"
                                        },
                                        {
                                            "name": "moderator",
                                            "annotation": "<class 'leaf_playground.data.profile.Profile'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.PlayerPrediction'>",
                                    "is_static_method": false
                                },
                                "metrics": [
                                    {
                                        "name": "推理能力",
                                        "description": "玩家根据发言，推理分析其他玩家身份与关键词的能力",
                                        "record_value_dtype": "INT",
                                        "record_display_type": "FiveStarsRate",
                                        "expect_resp_msg_type": "PlayerPrediction",
                                        "agg_method": {
                                            "fn": {
                                                "obj": "avg_fn",
                                                "module": "who_is_the_spy_cn.scene_definition",
                                                "source_file": null
                                            },
                                            "default_kwargs": null
                                        },
                                        "is_comparison": false
                                    }
                                ]
                            },
                            {
                                "name": "vote",
                                "description": "投票",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        },
                                        {
                                            "name": "history",
                                            "annotation": "typing.List[typing.Annotated[typing.Union[who_is_the_spy_cn.scene_definition.ModeratorSummary, who_is_the_spy_cn.scene_definition.ModeratorInitGameSummary, who_is_the_spy_cn.scene_definition.ModeratorPredictionSummary, who_is_the_spy_cn.scene_definition.ModeratorVoteSummary, who_is_the_spy_cn.scene_definition.ModeratorCheckGameOverSummary, who_is_the_spy_cn.scene_definition.ModeratorKeyAssignment, who_is_the_spy_cn.scene_definition.ModeratorWarning, who_is_the_spy_cn.scene_definition.ModeratorAskForDescription, who_is_the_spy_cn.scene_definition.ModeratorAskForRolePrediction, who_is_the_spy_cn.scene_definition.ModeratorAskForVote, who_is_the_spy_cn.scene_definition.PlayerDescription, who_is_the_spy_cn.scene_definition.PlayerPrediction, who_is_the_spy_cn.scene_definition.PlayerVote], FieldInfo(annotation=NoneType, required=True, discriminator='msg_type')]]"
                                        },
                                        {
                                            "name": "moderator",
                                            "annotation": "<class 'leaf_playground.data.profile.Profile'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'who_is_the_spy_cn.scene_definition.PlayerVote'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            },
                            {
                                "name": "reset_inner_status",
                                "description": "reset inner status",
                                "signature": {
                                    "parameters": [
                                        {
                                            "name": "self",
                                            "annotation": "<class 'inspect._empty'>"
                                        }
                                    ],
                                    "return_annotation": "<class 'inspect._empty'>",
                                    "is_static_method": false
                                },
                                "metrics": null
                            }
                        ],
                        "num_agents_range": [
                            4,
                            9
                        ],
                        "is_static": false
                    }
                ]
            },
            "config_schema": {
                "$defs": {
                    "AnnounceGameStartActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "AnnounceGameStartActionConfig",
                        "type": "object"
                    },
                    "AskForKeyDescriptionActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "AskForKeyDescriptionActionConfig",
                        "type": "object"
                    },
                    "AskForRolePredictionActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "AskForRolePredictionActionConfig",
                        "type": "object"
                    },
                    "AskForVoteActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "AskForVoteActionConfig",
                        "type": "object"
                    },
                    "AssignKeysActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "AssignKeysActionConfig",
                        "type": "object"
                    },
                    "CheckIfGameOverActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "CheckIfGameOverActionConfig",
                        "type": "object"
                    },
                    "DescribeKeyActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "$ref": "#/$defs/DescribeKeyActionMetricsConfig"
                            }
                        },
                        "required": [
                            "metrics_config"
                        ],
                        "title": "DescribeKeyActionConfig",
                        "type": "object"
                    },
                    "DescribeKeyActionMetricsConfig": {
                        "properties": {
                            "伪装能力": {
                                "$ref": "#/$defs/MetricConfig"
                            }
                        },
                        "required": [
                            "伪装能力"
                        ],
                        "title": "DescribeKeyActionMetricsConfig",
                        "type": "object"
                    },
                    "DynamicObject": {
                        "properties": {
                            "obj": {
                                "title": "Obj",
                                "type": "string"
                            },
                            "module": {
                                "anyOf": [
                                    {
                                        "type": "string"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ],
                                "default": null,
                                "title": "Module"
                            },
                            "source_file": {
                                "anyOf": [
                                    {
                                        "format": "file-path",
                                        "type": "string"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ],
                                "default": null,
                                "title": "Source File"
                            }
                        },
                        "required": [
                            "obj"
                        ],
                        "title": "DynamicObject",
                        "type": "object"
                    },
                    "HasBlankEnvVarConfig": {
                        "properties": {
                            "current_value": {
                                "default": false,
                                "title": "Current Value",
                                "type": "boolean"
                            }
                        },
                        "title": "HasBlankEnvVarConfig",
                        "type": "object"
                    },
                    "InitGameActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "InitGameActionConfig",
                        "type": "object"
                    },
                    "IntroduceGameRuleActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "IntroduceGameRuleActionConfig",
                        "type": "object"
                    },
                    "KeyModalities": {
                        "enum": [
                            "文本",
                            "图片"
                        ],
                        "title": "KeyModalities",
                        "type": "string"
                    },
                    "KeyModalityEnvVarConfig": {
                        "properties": {
                            "current_value": {
                                "allOf": [
                                    {
                                        "$ref": "#/$defs/KeyModalities"
                                    }
                                ],
                                "default": "文本"
                            }
                        },
                        "title": "KeyModalityEnvVarConfig",
                        "type": "object"
                    },
                    "MetricConfig": {
                        "properties": {
                            "enable": {
                                "default": true,
                                "title": "Enable",
                                "type": "boolean"
                            }
                        },
                        "title": "MetricConfig",
                        "type": "object"
                    },
                    "ModeratorRoleActionsConfig": {
                        "properties": {
                            "registry_players": {
                                "$ref": "#/$defs/RegistryPlayersActionConfig"
                            },
                            "init_game": {
                                "$ref": "#/$defs/InitGameActionConfig"
                            },
                            "introduce_game_rule": {
                                "$ref": "#/$defs/IntroduceGameRuleActionConfig"
                            },
                            "announce_game_start": {
                                "$ref": "#/$defs/AnnounceGameStartActionConfig"
                            },
                            "assign_keys": {
                                "$ref": "#/$defs/AssignKeysActionConfig"
                            },
                            "ask_for_key_description": {
                                "$ref": "#/$defs/AskForKeyDescriptionActionConfig"
                            },
                            "valid_player_description": {
                                "$ref": "#/$defs/ValidPlayerDescriptionActionConfig"
                            },
                            "ask_for_role_prediction": {
                                "$ref": "#/$defs/AskForRolePredictionActionConfig"
                            },
                            "summarize_players_prediction": {
                                "$ref": "#/$defs/SummarizePlayersPredictionActionConfig"
                            },
                            "ask_for_vote": {
                                "$ref": "#/$defs/AskForVoteActionConfig"
                            },
                            "summarize_player_votes": {
                                "$ref": "#/$defs/SummarizePlayerVotesActionConfig"
                            },
                            "check_if_game_over": {
                                "$ref": "#/$defs/CheckIfGameOverActionConfig"
                            },
                            "reset_inner_status": {
                                "$ref": "#/$defs/ResetInnerStatusActionConfig"
                            }
                        },
                        "required": [
                            "registry_players",
                            "init_game",
                            "introduce_game_rule",
                            "announce_game_start",
                            "assign_keys",
                            "ask_for_key_description",
                            "valid_player_description",
                            "ask_for_role_prediction",
                            "summarize_players_prediction",
                            "ask_for_vote",
                            "summarize_player_votes",
                            "check_if_game_over",
                            "reset_inner_status"
                        ],
                        "title": "ModeratorRoleActionsConfig",
                        "type": "object"
                    },
                    "ModeratorRoleConfig": {
                        "properties": {
                            "actions_config": {
                                "$ref": "#/$defs/ModeratorRoleActionsConfig"
                            },
                            "agents_config": {
                                "default": [
                                    {
                                        "config_data": {},
                                        "obj_for_import": {
                                            "module": "who_is_the_spy_cn.agents.moderator",
                                            "obj": "Moderator",
                                            "source_file": null
                                        }
                                    }
                                ],
                                "items": {
                                    "$ref": "#/$defs/RoleAgentConfig"
                                },
                                "maxItems": 1,
                                "minItems": 1,
                                "title": "Agents Config",
                                "type": "array"
                            },
                            "is_static": {
                                "const": true,
                                "default": true,
                                "title": "Is Static"
                            }
                        },
                        "required": [
                            "actions_config"
                        ],
                        "title": "ModeratorRoleConfig",
                        "type": "object"
                    },
                    "NumGamesEnvVarConfig": {
                        "properties": {
                            "current_value": {
                                "default": 1,
                                "title": "Current Value",
                                "type": "integer"
                            }
                        },
                        "title": "NumGamesEnvVarConfig",
                        "type": "object"
                    },
                    "PlayerRoleActionsConfig": {
                        "properties": {
                            "receive_key": {
                                "$ref": "#/$defs/ReceiveKeyActionConfig"
                            },
                            "describe_key": {
                                "$ref": "#/$defs/DescribeKeyActionConfig"
                            },
                            "predict_role": {
                                "$ref": "#/$defs/PredictRoleActionConfig"
                            },
                            "vote": {
                                "$ref": "#/$defs/VoteActionConfig"
                            },
                            "reset_inner_status": {
                                "$ref": "#/$defs/ResetInnerStatusActionConfig"
                            }
                        },
                        "required": [
                            "receive_key",
                            "describe_key",
                            "predict_role",
                            "vote",
                            "reset_inner_status"
                        ],
                        "title": "PlayerRoleActionsConfig",
                        "type": "object"
                    },
                    "PlayerRoleConfig": {
                        "properties": {
                            "actions_config": {
                                "$ref": "#/$defs/PlayerRoleActionsConfig"
                            },
                            "agents_config": {
                                "items": {
                                    "$ref": "#/$defs/RoleAgentConfig"
                                },
                                "maxItems": 9,
                                "minItems": 4,
                                "title": "Agents Config",
                                "type": "array"
                            },
                            "is_static": {
                                "const": false,
                                "default": false,
                                "title": "Is Static"
                            }
                        },
                        "required": [
                            "actions_config",
                            "agents_config"
                        ],
                        "title": "PlayerRoleConfig",
                        "type": "object"
                    },
                    "PredictRoleActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "$ref": "#/$defs/PredictRoleActionMetricsConfig"
                            }
                        },
                        "required": [
                            "metrics_config"
                        ],
                        "title": "PredictRoleActionConfig",
                        "type": "object"
                    },
                    "PredictRoleActionMetricsConfig": {
                        "properties": {
                            "推理能力": {
                                "$ref": "#/$defs/MetricConfig"
                            }
                        },
                        "required": [
                            "推理能力"
                        ],
                        "title": "PredictRoleActionMetricsConfig",
                        "type": "object"
                    },
                    "ReceiveKeyActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "ReceiveKeyActionConfig",
                        "type": "object"
                    },
                    "RegistryPlayersActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "RegistryPlayersActionConfig",
                        "type": "object"
                    },
                    "ResetInnerStatusActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "ResetInnerStatusActionConfig",
                        "type": "object"
                    },
                    "RoleAgentConfig": {
                        "properties": {
                            "config_data": {
                                "title": "Config Data",
                                "type": "object"
                            },
                            "obj_for_import": {
                                "$ref": "#/$defs/DynamicObject"
                            }
                        },
                        "required": [
                            "config_data",
                            "obj_for_import"
                        ],
                        "title": "RoleAgentConfig",
                        "type": "object"
                    },
                    "SummarizePlayerVotesActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "SummarizePlayerVotesActionConfig",
                        "type": "object"
                    },
                    "SummarizePlayersPredictionActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "SummarizePlayersPredictionActionConfig",
                        "type": "object"
                    },
                    "ValidPlayerDescriptionActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "ValidPlayerDescriptionActionConfig",
                        "type": "object"
                    },
                    "VoteActionConfig": {
                        "properties": {
                            "metrics_config": {
                                "const": null,
                                "default": null,
                                "title": "Metrics Config"
                            }
                        },
                        "title": "VoteActionConfig",
                        "type": "object"
                    },
                    "____SceneEnvVarsConfig": {
                        "properties": {
                            "key_modality": {
                                "$ref": "#/$defs/KeyModalityEnvVarConfig"
                            },
                            "num_games": {
                                "$ref": "#/$defs/NumGamesEnvVarConfig"
                            },
                            "has_blank": {
                                "$ref": "#/$defs/HasBlankEnvVarConfig"
                            }
                        },
                        "required": [
                            "key_modality",
                            "num_games",
                            "has_blank"
                        ],
                        "title": "谁是卧底SceneEnvVarsConfig",
                        "type": "object"
                    },
                    "____SceneRolesConfig": {
                        "properties": {
                            "moderator": {
                                "$ref": "#/$defs/ModeratorRoleConfig"
                            },
                            "player": {
                                "$ref": "#/$defs/PlayerRoleConfig"
                            }
                        },
                        "required": [
                            "moderator",
                            "player"
                        ],
                        "title": "谁是卧底SceneRolesConfig",
                        "type": "object"
                    }
                },
                "properties": {
                    "env_vars_config": {
                        "$ref": "#/$defs/____SceneEnvVarsConfig"
                    },
                    "roles_config": {
                        "$ref": "#/$defs/____SceneRolesConfig"
                    }
                },
                "required": [
                    "env_vars_config",
                    "roles_config"
                ],
                "title": "谁是卧底SceneConfig",
                "type": "object"
            },
            "obj_for_import": {
                "obj": "WhoIsTheSpyScene",
                "module": "who_is_the_spy_cn.scene",
                "source_file": null
            }
        },
        "agents_metadata": {
            "player": [
                {
                    "cls_name": "HumanPlayer",
                    "description": "参与谁是卧底游戏的人类玩家的代理",
                    "config_schema": {
                        "$defs": {
                            "Profile": {
                                "properties": {
                                    "id": {
                                        "title": "Id",
                                        "type": "string"
                                    },
                                    "name": {
                                        "title": "Name",
                                        "type": "string"
                                    },
                                    "role": {
                                        "anyOf": [
                                            {
                                                "$ref": "#/$defs/Role"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null
                                    }
                                },
                                "required": [
                                    "name"
                                ],
                                "title": "Profile",
                                "type": "object"
                            },
                            "Role": {
                                "properties": {
                                    "name": {
                                        "title": "Name",
                                        "type": "string"
                                    },
                                    "description": {
                                        "title": "Description",
                                        "type": "string"
                                    },
                                    "is_static": {
                                        "default": false,
                                        "title": "Is Static",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "name",
                                    "description"
                                ],
                                "title": "Role",
                                "type": "object"
                            }
                        },
                        "properties": {
                            "profile": {
                                "$ref": "#/$defs/Profile"
                            },
                            "chart_major_color": {
                                "anyOf": [
                                    {
                                        "pattern": "^#[0-9a-fA-F]{6}$",
                                        "type": "string"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ],
                                "default": null,
                                "title": "Chart Major Color"
                            }
                        },
                        "required": [
                            "profile"
                        ],
                        "title": "HumanPlayerConfig",
                        "type": "object"
                    },
                    "obj_for_import": {
                        "obj": "HumanPlayer",
                        "module": "who_is_the_spy_cn.agents.human_player",
                        "source_file": null
                    },
                    "is_human": true
                },
                {
                    "cls_name": "OpenAIAdvancePlayer",
                    "description": "An AI agent using OpenAI as backend, participants in the game Who is the Spy as a player",
                    "config_schema": {
                        "$defs": {
                            "BackendConfig": {
                                "properties": {
                                    "model": {
                                        "enum": [
                                            "gpt-4-1106-preview",
                                            "gpt-4-vision-preview"
                                        ],
                                        "title": "Model",
                                        "type": "string"
                                    },
                                    "api_key": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Api Key"
                                    },
                                    "organization": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Organization"
                                    },
                                    "base_url": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Base Url"
                                    },
                                    "azure_endpoint": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Azure Endpoint"
                                    },
                                    "azure_deployment": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Azure Deployment"
                                    },
                                    "api_version": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Api Version"
                                    },
                                    "is_azure": {
                                        "default": false,
                                        "title": "Is Azure",
                                        "type": "boolean"
                                    },
                                    "max_retries": {
                                        "default": 2,
                                        "title": "Max Retries",
                                        "type": "integer"
                                    },
                                    "timeout": {
                                        "default": 60,
                                        "title": "Timeout",
                                        "type": "number"
                                    }
                                },
                                "required": [
                                    "model"
                                ],
                                "title": "BackendConfig",
                                "type": "object"
                            },
                            "Profile": {
                                "properties": {
                                    "id": {
                                        "title": "Id",
                                        "type": "string"
                                    },
                                    "name": {
                                        "title": "Name",
                                        "type": "string"
                                    },
                                    "role": {
                                        "anyOf": [
                                            {
                                                "$ref": "#/$defs/Role"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null
                                    }
                                },
                                "required": [
                                    "name"
                                ],
                                "title": "Profile",
                                "type": "object"
                            },
                            "Role": {
                                "properties": {
                                    "name": {
                                        "title": "Name",
                                        "type": "string"
                                    },
                                    "description": {
                                        "title": "Description",
                                        "type": "string"
                                    },
                                    "is_static": {
                                        "default": false,
                                        "title": "Is Static",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "name",
                                    "description"
                                ],
                                "title": "Role",
                                "type": "object"
                            }
                        },
                        "properties": {
                            "profile": {
                                "$ref": "#/$defs/Profile"
                            },
                            "chart_major_color": {
                                "anyOf": [
                                    {
                                        "pattern": "^#[0-9a-fA-F]{6}$",
                                        "type": "string"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ],
                                "default": null,
                                "title": "Chart Major Color"
                            },
                            "ai_backend_config": {
                                "$ref": "#/$defs/BackendConfig"
                            }
                        },
                        "required": [
                            "profile",
                            "ai_backend_config"
                        ],
                        "title": "OpenAIAdvancePlayerConfig",
                        "type": "object"
                    },
                    "obj_for_import": {
                        "obj": "OpenAIAdvancePlayer",
                        "module": "who_is_the_spy_cn.agents.openai_advance_player",
                        "source_file": null
                    },
                    "is_human": false
                },
                {
                    "cls_name": "OpenAIBasicPlayer",
                    "description": "An AI agent using OpenAI as backend, participants in the game Who is the Spy as a player",
                    "config_schema": {
                        "$defs": {
                            "BackendConfig": {
                                "properties": {
                                    "model": {
                                        "enum": [
                                            "gpt-4-1106-preview",
                                            "gpt-4-vision-preview",
                                            "gpt-4",
                                            "gpt-4-0314",
                                            "gpt-4-0613",
                                            "gpt-4-32k",
                                            "gpt-4-32k-0314",
                                            "gpt-4-32k-0613",
                                            "gpt-3.5-turbo",
                                            "gpt-3.5-turbo-16k",
                                            "gpt-3.5-turbo-0301",
                                            "gpt-3.5-turbo-0613",
                                            "gpt-3.5-turbo-16k-0613"
                                        ],
                                        "title": "Model",
                                        "type": "string"
                                    },
                                    "api_key": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Api Key"
                                    },
                                    "organization": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Organization"
                                    },
                                    "base_url": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Base Url"
                                    },
                                    "azure_endpoint": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Azure Endpoint"
                                    },
                                    "azure_deployment": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Azure Deployment"
                                    },
                                    "api_version": {
                                        "anyOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null,
                                        "title": "Api Version"
                                    },
                                    "is_azure": {
                                        "default": false,
                                        "title": "Is Azure",
                                        "type": "boolean"
                                    },
                                    "max_retries": {
                                        "default": 2,
                                        "title": "Max Retries",
                                        "type": "integer"
                                    },
                                    "timeout": {
                                        "default": 60,
                                        "title": "Timeout",
                                        "type": "number"
                                    }
                                },
                                "required": [
                                    "model"
                                ],
                                "title": "BackendConfig",
                                "type": "object"
                            },
                            "Profile": {
                                "properties": {
                                    "id": {
                                        "title": "Id",
                                        "type": "string"
                                    },
                                    "name": {
                                        "title": "Name",
                                        "type": "string"
                                    },
                                    "role": {
                                        "anyOf": [
                                            {
                                                "$ref": "#/$defs/Role"
                                            },
                                            {
                                                "type": "null"
                                            }
                                        ],
                                        "default": null
                                    }
                                },
                                "required": [
                                    "name"
                                ],
                                "title": "Profile",
                                "type": "object"
                            },
                            "Role": {
                                "properties": {
                                    "name": {
                                        "title": "Name",
                                        "type": "string"
                                    },
                                    "description": {
                                        "title": "Description",
                                        "type": "string"
                                    },
                                    "is_static": {
                                        "default": false,
                                        "title": "Is Static",
                                        "type": "boolean"
                                    }
                                },
                                "required": [
                                    "name",
                                    "description"
                                ],
                                "title": "Role",
                                "type": "object"
                            }
                        },
                        "properties": {
                            "profile": {
                                "$ref": "#/$defs/Profile"
                            },
                            "chart_major_color": {
                                "anyOf": [
                                    {
                                        "pattern": "^#[0-9a-fA-F]{6}$",
                                        "type": "string"
                                    },
                                    {
                                        "type": "null"
                                    }
                                ],
                                "default": null,
                                "title": "Chart Major Color"
                            },
                            "ai_backend_config": {
                                "$ref": "#/$defs/BackendConfig"
                            }
                        },
                        "required": [
                            "profile",
                            "ai_backend_config"
                        ],
                        "title": "OpenAIBasicPlayerConfig",
                        "type": "object"
                    },
                    "obj_for_import": {
                        "obj": "OpenAIBasicPlayer",
                        "module": "who_is_the_spy_cn.agents.openai_basic_player",
                        "source_file": null
                    },
                    "is_human": false
                }
            ],
            "moderator": [
                {
                    "cls_name": "Moderator",
                    "description": "An agent who moderate the game: Who is the Spy",
                    "config_schema": null,
                    "obj_for_import": {
                        "obj": "Moderator",
                        "module": "who_is_the_spy_cn.agents.moderator",
                        "source_file": null
                    },
                    "is_human": false
                }
            ]
        },
        "evaluators_metadata": [
            {
                "cls_name": "AdvanceEvaluator",
                "description": "谁是卧底专用评估器，分析发言的伪装能力和推理的逻辑能力",
                "config_schema": {
                    "$defs": {
                        "EvalOpenAIBackendConfig": {
                            "properties": {
                                "model": {
                                    "default": "gpt-4-1106-preview",
                                    "enum": [
                                        "gpt-4-1106-preview",
                                        "gpt-4"
                                    ],
                                    "title": "Model",
                                    "type": "string"
                                },
                                "api_key": {
                                    "anyOf": [
                                        {
                                            "type": "string"
                                        },
                                        {
                                            "type": "null"
                                        }
                                    ],
                                    "default": null,
                                    "title": "Api Key"
                                },
                                "organization": {
                                    "anyOf": [
                                        {
                                            "type": "string"
                                        },
                                        {
                                            "type": "null"
                                        }
                                    ],
                                    "default": null,
                                    "title": "Organization"
                                },
                                "base_url": {
                                    "anyOf": [
                                        {
                                            "type": "string"
                                        },
                                        {
                                            "type": "null"
                                        }
                                    ],
                                    "default": null,
                                    "title": "Base Url"
                                },
                                "azure_endpoint": {
                                    "anyOf": [
                                        {
                                            "type": "string"
                                        },
                                        {
                                            "type": "null"
                                        }
                                    ],
                                    "default": null,
                                    "title": "Azure Endpoint"
                                },
                                "azure_deployment": {
                                    "anyOf": [
                                        {
                                            "type": "string"
                                        },
                                        {
                                            "type": "null"
                                        }
                                    ],
                                    "default": null,
                                    "title": "Azure Deployment"
                                },
                                "api_version": {
                                    "anyOf": [
                                        {
                                            "type": "string"
                                        },
                                        {
                                            "type": "null"
                                        }
                                    ],
                                    "default": null,
                                    "title": "Api Version"
                                },
                                "is_azure": {
                                    "default": false,
                                    "title": "Is Azure",
                                    "type": "boolean"
                                },
                                "max_retries": {
                                    "default": 2,
                                    "title": "Max Retries",
                                    "type": "integer"
                                },
                                "timeout": {
                                    "default": 60,
                                    "title": "Timeout",
                                    "type": "number"
                                }
                            },
                            "title": "EvalOpenAIBackendConfig",
                            "type": "object"
                        },
                        "GeneralOpenEvalToolConfig": {
                            "properties": {
                                "openai_backend_config": {
                                    "$ref": "#/$defs/EvalOpenAIBackendConfig"
                                }
                            },
                            "required": [
                                "openai_backend_config"
                            ],
                            "title": "GeneralOpenEvalToolConfig",
                            "type": "object"
                        }
                    },
                    "properties": {
                        "openEvalConfig": {
                            "$ref": "#/$defs/GeneralOpenEvalToolConfig"
                        }
                    },
                    "required": [
                        "openEvalConfig"
                    ],
                    "title": "AdvanceEvaluatorConfig",
                    "type": "object"
                },
                "obj_for_import": {
                    "obj": "AdvanceEvaluator",
                    "module": "who_is_the_spy_cn.metric_evaluators.advance_evaluator",
                    "source_file": null
                },
                "metrics": [
                    "player.describe_key.伪装能力",
                    "player.predict_role.推理能力"
                ]
            }
        ],
        "charts_metadata": [
            {
                "cls_name": "AdvanceChart",
                "obj_for_import": {
                    "obj": "AdvanceChart",
                    "module": "who_is_the_spy_cn.charts.advance",
                    "source_file": null
                },
                "chart_name": "advance",
                "supported_metric_names": [
                    "player.describe_key.伪装能力",
                    "player.predict_role.推理能力"
                ]
            }
        ]
    },
    "leaf_version": "0.3.0.dev0"
}